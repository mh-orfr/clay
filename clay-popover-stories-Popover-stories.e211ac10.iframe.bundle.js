"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4019],{"./packages/clay-popover/stories/Popover.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,ManualShow:()=>ManualShow,RecalculatePosition:()=>RecalculatePosition,Trigger:()=>Trigger,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var _clayui_button__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/clay-button/src/index.tsx"),_clayui_modal__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/clay-modal/src/index.tsx"),react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react/index.js"),_src__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./packages/clay-popover/src/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}const __WEBPACK_DEFAULT_EXPORT__={parameters:{storySource:{source:'/**\n * SPDX-FileCopyrightText: Â© 2019 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nimport ClayButton, {ClayButtonWithIcon} from \'@clayui/button\';\nimport ClayModal, {useModal} from \'@clayui/modal\';\nimport React, {useState} from \'react\';\n\nimport ClayPopover, {ALIGN_POSITIONS} from \'../src\';\n\nexport default {\n\targTypes: {\n\t\talignPosition: {\n\t\t\tcontrol: {type: \'select\'},\n\t\t\toptions: ALIGN_POSITIONS,\n\t\t},\n\t\tsize: {\n\t\t\tcontrol: {type: \'select\'},\n\t\t\toptions: [\'lg\', undefined],\n\t\t},\n\t},\n\tcomponent: ClayPopover,\n\ttitle: \'Design System/Components/Popover\',\n};\n\nexport const Default = (args: any) => (\n\t<ClayPopover\n\t\talignPosition={args.alignPosition}\n\t\tdisableScroll={args.disableScroll}\n\t\tdisplayType={args.displayType}\n\t\theader="Popover"\n\t\tsize={args.size}\n\t>\n\t\tViennese flavour cup eu, percolator froth ristretto mazagran caffeine.\n\t</ClayPopover>\n);\n\nDefault.args = {\n\talignPosition: \'bottom\',\n\tdisableScroll: false,\n\tdisplayType: undefined,\n\tsize: undefined,\n};\n\nexport const Trigger = (args: any) => (\n\t<div>\n\t\t<ClayPopover\n\t\t\talignPosition="right"\n\t\t\tcloseOnClickOutside={args.closeOnClickOutside}\n\t\t\tdisableScroll={args.disableScroll}\n\t\t\theader="Popover"\n\t\t\ttrigger={\n\t\t\t\t<ClayButtonWithIcon\n\t\t\t\t\taria-label="Information button"\n\t\t\t\t\tsymbol="info-circle-open"\n\t\t\t\t/>\n\t\t\t}\n\t\t>\n\t\t\t{`Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\tspoon acerbic to go macchiato strong. Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\tspoon acerbic to go macchiato strong. Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\tspoon acerbic to go macchiato strong. Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\tspoon acerbic to go macchiato strong.`}\n\t\t</ClayPopover>\n\t</div>\n);\n\nTrigger.args = {\n\tcloseOnClickOutside: true,\n\tdisableScroll: false,\n};\n\nexport const ManualShow = () => {\n\tconst [show, setShow] = useState(false);\n\n\treturn (\n\t\t<>\n\t\t\t<ClayButton\n\t\t\t\tonClick={() => setShow(!show)}\n\t\t\t\tstyle={{marginRight: 40}}\n\t\t\t>\n\t\t\t\tadditional trigger\n\t\t\t</ClayButton>\n\n\t\t\t<ClayPopover\n\t\t\t\tcloseOnClickOutside\n\t\t\t\theader="Popover"\n\t\t\t\tonShowChange={setShow}\n\t\t\t\tshow={show}\n\t\t\t\ttrigger={\n\t\t\t\t\t<ClayButtonWithIcon\n\t\t\t\t\t\taria-label="Information button"\n\t\t\t\t\t\tsymbol="info-circle-open"\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{`Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\t\tspoon acerbic to go macchiato strong. Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\t\tspoon acerbic to go macchiato strong. Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\t\tspoon acerbic to go macchiato strong. Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\t\tspoon acerbic to go macchiato strong.`}\n\t\t\t</ClayPopover>\n\t\t</>\n\t);\n};\n\nexport const RecalculatePosition = () => {\n\tconst {observer, onOpenChange, open} = useModal();\n\n\treturn (\n\t\t<>\n\t\t\t{open && (\n\t\t\t\t<ClayModal observer={observer} size="lg" status="info">\n\t\t\t\t\t<ClayModal.Header>Title</ClayModal.Header>\n\t\t\t\t\t<ClayModal.Body scrollable>\n\t\t\t\t\t\t<ClayPopover\n\t\t\t\t\t\t\theader="Popover"\n\t\t\t\t\t\t\ttrigger={\n\t\t\t\t\t\t\t\t<ClayButtonWithIcon\n\t\t\t\t\t\t\t\t\taria-label="Information button"\n\t\t\t\t\t\t\t\t\tdisplayType="secondary"\n\t\t\t\t\t\t\t\t\tsymbol="info-circle-open"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\t\t\t\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\t\t\t\t\tspoon acerbic to go macchiato strong. Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\t\t\t\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\t\t\t\t\tspoon acerbic to go macchiato strong. Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\t\t\t\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\t\t\t\t\tspoon acerbic to go macchiato strong. Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\t\t\t\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\t\t\t\t\tspoon acerbic to go macchiato strong.`}\n\t\t\t\t\t\t</ClayPopover>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt="cat"\n\t\t\t\t\t\t\tsrc="https://cataas.com/cat/says/it will have"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt="cat"\n\t\t\t\t\t\t\tsrc="https://cataas.com/cat/says/a scroll"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ClayModal.Body>\n\t\t\t\t\t<ClayModal.Footer\n\t\t\t\t\t\tfirst={\n\t\t\t\t\t\t\t<ClayButton.Group spaced>\n\t\t\t\t\t\t\t\t<ClayButton displayType="secondary">\n\t\t\t\t\t\t\t\t\tSecondary\n\t\t\t\t\t\t\t\t</ClayButton>\n\t\t\t\t\t\t\t\t<ClayButton displayType="secondary">\n\t\t\t\t\t\t\t\t\tSecondary\n\t\t\t\t\t\t\t\t</ClayButton>\n\t\t\t\t\t\t\t</ClayButton.Group>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlast={\n\t\t\t\t\t\t\t<ClayButton onClick={() => onOpenChange(false)}>\n\t\t\t\t\t\t\t\tPrimary\n\t\t\t\t\t\t\t</ClayButton>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</ClayModal>\n\t\t\t)}\n\n\t\t\t<ClayButton\n\t\t\t\tdisplayType="primary"\n\t\t\t\tonClick={() => onOpenChange(true)}\n\t\t\t>\n\t\t\t\tOpen modal\n\t\t\t</ClayButton>\n\t\t</>\n\t);\n};\n',locationsMap:{default:{startLoc:{col:23,line:27},endLoc:{col:1,line:37},startBody:{col:23,line:27},endBody:{col:1,line:37}},trigger:{startLoc:{col:23,line:46},endLoc:{col:1,line:71},startBody:{col:23,line:46},endBody:{col:1,line:71}},"manual-show":{startLoc:{col:26,line:78},endLoc:{col:1,line:114},startBody:{col:26,line:78},endBody:{col:1,line:114}},"recalculate-position":{startLoc:{col:35,line:116},endLoc:{col:1,line:183},startBody:{col:35,line:116},endBody:{col:1,line:183}}}}},argTypes:{alignPosition:{control:{type:"select"},options:_src__WEBPACK_IMPORTED_MODULE_14__.ALIGN_POSITIONS},size:{control:{type:"select"},options:["lg",void 0]}},component:_src__WEBPACK_IMPORTED_MODULE_14__.Z,title:"Design System/Components/Popover"};var Default=function Default(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_src__WEBPACK_IMPORTED_MODULE_14__.Z,{alignPosition:args.alignPosition,disableScroll:args.disableScroll,displayType:args.displayType,header:"Popover",size:args.size,children:"Viennese flavour cup eu, percolator froth ristretto mazagran caffeine."})};Default.displayName="Default",Default.args={alignPosition:"bottom",disableScroll:!1,displayType:void 0,size:void 0};var Trigger=function Trigger(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_src__WEBPACK_IMPORTED_MODULE_14__.Z,{alignPosition:"right",closeOnClickOutside:args.closeOnClickOutside,disableScroll:args.disableScroll,header:"Popover",trigger:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_clayui_button__WEBPACK_IMPORTED_MODULE_11__.q,{"aria-label":"Information button",symbol:"info-circle-open"}),children:"Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\tspoon acerbic to go macchiato strong. Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\tspoon acerbic to go macchiato strong. Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\tspoon acerbic to go macchiato strong. Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\tspoon acerbic to go macchiato strong."})})};Trigger.displayName="Trigger",Trigger.args={closeOnClickOutside:!0,disableScroll:!1};var ManualShow=function ManualShow(){var _useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_13__.useState)(!1),2),show=_useState2[0],setShow=_useState2[1];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_clayui_button__WEBPACK_IMPORTED_MODULE_11__.Z,{onClick:function onClick(){return setShow(!show)},style:{marginRight:40},children:"additional trigger"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_src__WEBPACK_IMPORTED_MODULE_14__.Z,{closeOnClickOutside:!0,header:"Popover",onShowChange:setShow,show,trigger:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_clayui_button__WEBPACK_IMPORTED_MODULE_11__.q,{"aria-label":"Information button",symbol:"info-circle-open"}),children:"Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\t\tspoon acerbic to go macchiato strong. Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\t\tspoon acerbic to go macchiato strong. Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\t\tspoon acerbic to go macchiato strong. Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\t\tspoon acerbic to go macchiato strong."})]})},RecalculatePosition=function RecalculatePosition(){var _useModal=(0,_clayui_modal__WEBPACK_IMPORTED_MODULE_12__.dd)(),observer=_useModal.observer,onOpenChange=_useModal.onOpenChange,open=_useModal.open;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.Fragment,{children:[open&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(_clayui_modal__WEBPACK_IMPORTED_MODULE_12__.ZP,{observer,size:"lg",status:"info",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_clayui_modal__WEBPACK_IMPORTED_MODULE_12__.ZP.Header,{children:"Title"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(_clayui_modal__WEBPACK_IMPORTED_MODULE_12__.ZP.Body,{scrollable:!0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_src__WEBPACK_IMPORTED_MODULE_14__.Z,{header:"Popover",trigger:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_clayui_button__WEBPACK_IMPORTED_MODULE_11__.q,{"aria-label":"Information button",displayType:"secondary",symbol:"info-circle-open"}),children:"Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\t\t\t\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\t\t\t\t\tspoon acerbic to go macchiato strong. Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\t\t\t\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\t\t\t\t\tspoon acerbic to go macchiato strong. Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\t\t\t\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\t\t\t\t\tspoon acerbic to go macchiato strong. Viennese flavour cup eu, percolator froth ristretto mazagran\n\t\t\t\t\t\tcaffeine. White roast seasonal, mocha trifecta, dripper caffeine\n\t\t\t\t\t\tspoon acerbic to go macchiato strong."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("br",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("img",{alt:"cat",src:"https://cataas.com/cat/says/it will have"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("img",{alt:"cat",src:"https://cataas.com/cat/says/a scroll"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_clayui_modal__WEBPACK_IMPORTED_MODULE_12__.ZP.Footer,{first:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(_clayui_button__WEBPACK_IMPORTED_MODULE_11__.Z.Group,{spaced:!0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_clayui_button__WEBPACK_IMPORTED_MODULE_11__.Z,{displayType:"secondary",children:"Secondary"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_clayui_button__WEBPACK_IMPORTED_MODULE_11__.Z,{displayType:"secondary",children:"Secondary"})]}),last:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_clayui_button__WEBPACK_IMPORTED_MODULE_11__.Z,{onClick:function onClick(){return onOpenChange(!1)},children:"Primary"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_clayui_button__WEBPACK_IMPORTED_MODULE_11__.Z,{displayType:"primary",onClick:function onClick(){return onOpenChange(!0)},children:"Open modal"})]})},__namedExportsOrder=["Default","Trigger","ManualShow","RecalculatePosition"]},"./packages/clay-popover/src/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>clay_popover_src});__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var src=__webpack_require__("./packages/clay-shared/src/index.tsx"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["alignPosition","children","className","closeOnClickOutside","containerProps","defaultShow","disableScroll","displayType","header","onOffset","onShowChange","show","size","trigger"];function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var ALIGNMENTS_MAP={bottom:["tc","bc"],"bottom-left":["tl","bl"],"bottom-right":["tr","br"],left:["cr","cl"],"left-bottom":["br","bl"],"left-top":["tr","tl"],right:["cl","cr"],"right-bottom":["bl","br"],"right-top":["tl","tr"],top:["bc","tc"],"top-left":["bl","tl"],"top-right":["br","tr"]},BOTTOM_OFFSET=[0,4],LEFT_OFFSET=[-4,0],RIGHT_OFFSET=[4,0],TOP_OFFSET=[0,-4],OFFSET_MAP={bctc:TOP_OFFSET,blbr:RIGHT_OFFSET,bltl:TOP_OFFSET,brbl:LEFT_OFFSET,brtr:TOP_OFFSET,clcr:RIGHT_OFFSET,crcl:LEFT_OFFSET,tcbc:BOTTOM_OFFSET,tlbl:BOTTOM_OFFSET,tltr:RIGHT_OFFSET,trbr:BOTTOM_OFFSET,trtl:LEFT_OFFSET},Popover=react.forwardRef((function Popover(_ref,ref){var _classNames,_ref$alignPosition=_ref.alignPosition,alignPosition=void 0===_ref$alignPosition?"bottom":_ref$alignPosition,children=_ref.children,className=_ref.className,_ref$closeOnClickOuts=_ref.closeOnClickOutside,closeOnClickOutside=void 0!==_ref$closeOnClickOuts&&_ref$closeOnClickOuts,_ref$containerProps=_ref.containerProps,containerProps=void 0===_ref$containerProps?{}:_ref$containerProps,_ref$defaultShow=_ref.defaultShow,defaultShow=void 0!==_ref$defaultShow&&_ref$defaultShow,_ref$disableScroll=_ref.disableScroll,disableScroll=void 0!==_ref$disableScroll&&_ref$disableScroll,displayType=_ref.displayType,header=_ref.header,_ref$onOffset=_ref.onOffset,onOffset=void 0===_ref$onOffset?function(points){return OFFSET_MAP[points.join("")]}:_ref$onOffset,onShowChange=_ref.onShowChange,show=_ref.show,size=_ref.size,trigger=_ref.trigger,otherProps=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),_useControlledState2=_slicedToArray((0,src.useControlledState)({defaultName:"defaultShow",defaultValue:defaultShow,handleName:"onShowChange",name:"show",onChange:onShowChange,value:show}),2),internalShow=_useControlledState2[0],setShow=_useControlledState2[1],triggerRef=(0,react.useRef)(null),popoverRef=(0,react.useRef)(null),popoverScrollerRef=(0,react.useRef)(null);ref||(ref=popoverRef);var align=(0,react.useCallback)((function(){if(ref.current&&triggerRef.current){var points=ALIGNMENTS_MAP[alignPosition];(0,src.doAlign)({offset:onOffset(points),points,sourceElement:ref.current,targetElement:triggerRef.current})}}),[alignPosition,triggerRef,ref]);(0,react.useEffect)((function(){trigger&&align()}),[align,internalShow]),(0,react.useEffect)((function(){if(trigger&&triggerRef.current)return(0,src.observeRect)(triggerRef.current,align)}),[align]),(0,react.useEffect)((function(){!disableScroll&&popoverScrollerRef.current&&internalShow&&popoverScrollerRef.current.focus(),disableScroll&&popoverRef.current&&internalShow&&popoverRef.current.focus()}),[disableScroll,popoverRef,popoverScrollerRef,internalShow]),(0,react.useEffect)((function(){if(closeOnClickOutside&&trigger){var handleClick=function handleClick(event){var nodeRefs=[popoverRef,popoverScrollerRef,triggerRef],nodes=(Array.isArray(nodeRefs)?nodeRefs:[nodeRefs]).filter((function(ref){return ref.current})).map((function(ref){return ref.current}));event.target instanceof Node&&!nodes.find((function(element){return element.contains(event.target)}))&&setShow(!1)};return window.addEventListener("mousedown",handleClick),function(){window.removeEventListener("mousedown",handleClick)}}}),[closeOnClickOutside,trigger]),(0,react.useEffect)((function(){return internalShow&&src.stack.push(popoverRef),function(){var index=src.stack.indexOf(popoverRef);index>=0&&src.stack.splice(index,1)}}),[internalShow,popoverRef]),(0,react.useEffect)((function(){var handleKeyDown=function handleKeyDown(event){var _triggerRef$current;"Escape"===event.key&&src.stack[src.stack.length-1]===popoverRef&&(setShow(!1),null===(_triggerRef$current=triggerRef.current)||void 0===_triggerRef$current||_triggerRef$current.focus())},onBlur=function onBlur(event){popoverRef.current&&!popoverRef.current.contains(event.relatedTarget)&&setShow(!1)};if(internalShow)return document.addEventListener("keydown",handleKeyDown),window.addEventListener("blur",onBlur),function(){document.removeEventListener("keydown",handleKeyDown),window.removeEventListener("blur",onBlur)}}),[internalShow]);var content=(0,jsx_runtime.jsxs)("div",Object.assign({className:classnames_default()(className,"popover","clay-popover-"+alignPosition,(_classNames={},_classNames["popover-"+displayType]=displayType,_classNames["popover-width-lg"]="lg"===size,_classNames.show=internalShow,_classNames)),ref},otherProps,{tabIndex:disableScroll?-1:void 0,children:[(0,jsx_runtime.jsx)("div",{className:"arrow"}),(0,jsx_runtime.jsxs)("div",{className:classnames_default()({"inline-scroller":!disableScroll}),ref:popoverScrollerRef,tabIndex:disableScroll?void 0:-1,children:[header&&(0,jsx_runtime.jsx)("div",{className:"popover-header",children:header}),(0,jsx_runtime.jsx)("div",{className:"popover-body",children})]})]}));return trigger&&(content=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[react.cloneElement(trigger,{onClick:function onClick(event){trigger.props.onClick&&trigger.props.onClick(event),setShow(!internalShow)},ref:function ref(node){if(node){triggerRef.current=node;var _ref2=trigger.ref;"function"==typeof _ref2?_ref2(node):_ref2&&(_ref2.current=node)}}}),internalShow&&(0,jsx_runtime.jsx)(src.ClayPortal,Object.assign({},containerProps,{children:content}))]})),content}));Popover.displayName="ClayPopover";const clay_popover_src=Popover}}]);