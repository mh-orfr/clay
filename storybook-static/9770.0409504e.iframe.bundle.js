"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9770],{"./packages/clay-core/src/vertical-bar/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{cL:()=>VerticalBar});__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var src=__webpack_require__("./packages/clay-shared/src/index.tsx"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),react=__webpack_require__("./node_modules/react/index.js"),collection=(__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./packages/clay-core/src/collection/index.ts")),VerticalBarContext=(0,react.createContext)({}),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["children"];var List=function List(_ref){var children=_ref.children,otherProps=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);return(0,jsx_runtime.jsx)("ul",Object.assign({},otherProps,{className:"tbar-nav",children}))};function Bar(_ref2){var children=_ref2.children,_ref2$displayType=_ref2.displayType,displayType=void 0===_ref2$displayType?"dark":_ref2$displayType,items=_ref2.items,virtualize=_ref2.virtualize,parentRef=(0,react.useRef)(null),activation=(0,react.useContext)(VerticalBarContext).activation,navigationProps=(0,src.useNavigation)({activation,containerRef:parentRef,orientation:"vertical"}).navigationProps;return(0,jsx_runtime.jsx)("nav",Object.assign({},navigationProps,{className:classnames_default()("tbar tbar-stacked c-slideout-show",{"tbar-dark-l2":"dark"===displayType,"tbar-light":"light"===displayType}),ref:parentRef,children:(0,jsx_runtime.jsx)(collection.FE,{"aria-orientation":"vertical",as:List,estimateSize:40,items,parentRef,role:"tablist",virtualize,children})}))}List.displayName="List",Bar.displayName="Bar";var ContentContext=react.createContext({});function Content(_ref){var children=_ref.children,_ref$displayType=_ref.displayType,displayType=void 0===_ref$displayType?"light":_ref$displayType,items=_ref.items;return(0,jsx_runtime.jsx)(ContentContext.Provider,{value:{displayType},children:(0,jsx_runtime.jsx)(collection.FE,{items,children})})}Content.displayName="Content";var Item=react.forwardRef((function Item(_ref,ref){var children=_ref.children,_ref$divider=_ref.divider,divider=void 0!==_ref$divider&&_ref$divider,_ref$expand=_ref.expand,expand=void 0!==_ref$expand&&_ref$expand,index=_ref.index,_ref$keyValue=_ref.keyValue,keyValue=void 0===_ref$keyValue?null:_ref$keyValue,style=_ref.style,_useContext=(0,react.useContext)(VerticalBarContext),activePanel=_useContext.activePanel,id=_useContext.id,onActivePanel=_useContext.onActivePanel,setPanelNext=_useContext.setPanelNext;return(0,jsx_runtime.jsx)("li",{className:classnames_default()("tbar-item",{"tbar-divider-after":divider,"tbar-item-expand":expand}),ref,role:"none",style,children:react.cloneElement(children,{"aria-controls":id+"-tabpanel-"+keyValue,"aria-selected":activePanel===keyValue,className:classnames_default()("tbar-btn tbar-btn-monospaced",{active:activePanel===keyValue}),id:id+"-tab-"+keyValue,onClick:function onClick(event){children.props.onClick&&children.props.onClick(event),event.defaultPrevented||(keyValue===activePanel?(onActivePanel(null),setPanelNext(null)):keyValue&&null===activePanel?(onActivePanel(keyValue),setPanelNext(null)):keyValue!==activePanel&&(onActivePanel(null),setPanelNext(keyValue)))},role:"tab",tabIndex:null!==activePanel&&activePanel!==keyValue||null===activePanel&&0!==index?-1:null})})})),clay_provider_src=__webpack_require__("./packages/clay-provider/src/index.ts"),CSSTransition=__webpack_require__("./node_modules/react-transition-group/esm/CSSTransition.js"),Resizer_excluded=["nodeRef"];var keyDownCounter=0;function Resizer(_ref){var nodeRef=_ref.nodeRef,otherProps=function Resizer_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function Resizer_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,Resizer_excluded),_useContext=(0,react.useContext)(VerticalBarContext),onPanelWidthChange=_useContext.onPanelWidthChange,panelWidthMax=_useContext.panelWidthMax,panelWidthMin=_useContext.panelWidthMin,positionLeft="left"===_useContext.position,getStartWidth=function getStartWidth(){var _nodeRef$current;return(null==nodeRef||null===(_nodeRef$current=nodeRef.current)||void 0===_nodeRef$current?void 0:_nodeRef$current.offsetWidth)||320},decreasePanelWidth=function decreasePanelWidth(){var delta=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,startWidth=arguments.length>1&&void 0!==arguments[1]?arguments[1]:getStartWidth(),width=Math.round(startWidth-delta);width>panelWidthMin-100&&width<panelWidthMin?onPanelWidthChange(panelWidthMin):width>panelWidthMin&&onPanelWidthChange(width)},increasePanelWidth=function increasePanelWidth(){var delta=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,startWidth=arguments.length>1&&void 0!==arguments[1]?arguments[1]:getStartWidth(),width=Math.round(startWidth+delta);width>panelWidthMax&&width<panelWidthMax+100?onPanelWidthChange(panelWidthMax):width<panelWidthMax&&onPanelWidthChange(width)};return(0,jsx_runtime.jsx)("div",Object.assign({},otherProps,{onKeyDown:function onKeyDown(event){var delta=keyDownCounter>7?10:1;switch(keyDownCounter++,event.key){case src.Keys.Down:decreasePanelWidth(delta);break;case src.Keys.Left:positionLeft?decreasePanelWidth(delta):increasePanelWidth(delta);break;case src.Keys.Right:positionLeft?increasePanelWidth(delta):decreasePanelWidth(delta);break;case src.Keys.Up:increasePanelWidth(delta)}},onKeyUp:function onKeyUp(){keyDownCounter=0},onPointerDown:function onPointerDown(event){var startWidth=getStartWidth(),startXPos=event.pageX;function onResizerMove(event){var delta=Math.abs(event.pageX-startXPos);event.pageX>=startXPos&&positionLeft||event.pageX<startXPos&&!positionLeft?increasePanelWidth(delta,startWidth):(event.pageX<startXPos&&positionLeft||event.pageX>=startXPos&&!positionLeft)&&decreasePanelWidth(delta,startWidth)}0===event.button&&(document.addEventListener("pointermove",onResizerMove),document.addEventListener("pointerup",(function removeResizerEvents(){document.removeEventListener("pointermove",onResizerMove),document.removeEventListener("pointerup",removeResizerEvents)})))},role:"separator",tabIndex:0}))}function Panel(_ref){var children=_ref.children,_ref$keyValue=_ref.keyValue,keyValue=void 0===_ref$keyValue?null:_ref$keyValue,tabIndex=_ref.tabIndex,_useContext=(0,react.useContext)(VerticalBarContext),activePanel=_useContext.activePanel,id=_useContext.id,onActivePanel=_useContext.onActivePanel,panelNext=_useContext.panelNext,panelWidth=_useContext.panelWidth,panelWidthMax=_useContext.panelWidthMax,panelWidthMin=_useContext.panelWidthMin,resize=_useContext.resize,setPanelNext=_useContext.setPanelNext,displayType=(0,react.useContext)(ContentContext).displayType,nodeRef=(0,react.useRef)(null),prefersReducedMotion=(0,clay_provider_src.useProvider)().prefersReducedMotion,isFirst=function useIsFirstRender(){var isFirst=(0,react.useRef)(!0);return isFirst.current?(isFirst.current=!1,!0):isFirst.current}(),previousActivePanel=usePrevious(activePanel),previousPanelNext=usePrevious(panelNext),noTransition=!panelNext&&!previousPanelNext;return(0,jsx_runtime.jsx)(CSSTransition.Z,{"aria-labelledby":id+"-tab-"+keyValue,className:classnames_default()("sidebar",{"c-slideout-show":function isPanelOpen(){return isFirst?null!==activePanel:previousActivePanel===activePanel}(),"sidebar-dark-l2":"dark"===displayType,"sidebar-light":"light"===displayType}),classNames:{enter:noTransition&&!previousActivePanel?"c-slideout-transition c-slideout-transition-in":void 0,enterActive:"c-slideout-show",enterDone:"c-slideout-show",exit:noTransition&&!activePanel?"c-slideout-transition c-slideout-transition-out":void 0},id:id+"-tabpanel-"+keyValue,in:activePanel===keyValue,nodeRef,onExited:function onExited(){panelNext&&(onActivePanel(panelNext),setPanelNext(null))},role:"tabpanel",tabIndex,timeout:panelNext||prefersReducedMotion?0:{enter:300,exit:200},unmountOnExit:!0,children:(0,jsx_runtime.jsxs)("div",{ref:nodeRef,style:{width:panelWidth},children:[children,resize&&(0,jsx_runtime.jsx)(Resizer,{"aria-controls":id+"-tabpanel-"+keyValue,"aria-orientation":"vertical","aria-valuemax":panelWidthMax,"aria-valuemin":panelWidthMin,"aria-valuenow":panelWidth,className:"c-horizontal-resizer",nodeRef})]})})}function usePrevious(value){var ref=(0,react.useRef)(value);return(0,react.useEffect)((function(){ref.current=value}),[value]),ref.current}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function VerticalBar(_ref){var _ref$absolute=_ref.absolute,absolute=void 0!==_ref$absolute&&_ref$absolute,_ref$activation=_ref.activation,activation=void 0===_ref$activation?"manual":_ref$activation,active=_ref.active,children=_ref.children,className=_ref.className,_ref$defaultActive=_ref.defaultActive,defaultActive=void 0===_ref$defaultActive?null:_ref$defaultActive,_ref$defaultPanelWidt=_ref.defaultPanelWidth,defaultPanelWidth=void 0===_ref$defaultPanelWidt?320:_ref$defaultPanelWidt,onActiveChange=_ref.onActiveChange,onPanelWidthChange=_ref.onPanelWidthChange,externalPanelWidth=_ref.panelWidth,_ref$panelWidthMax=_ref.panelWidthMax,panelWidthMax=void 0===_ref$panelWidthMax?500:_ref$panelWidthMax,_ref$panelWidthMin=_ref.panelWidthMin,panelWidthMin=void 0===_ref$panelWidthMin?280:_ref$panelWidthMin,_ref$position=_ref.position,position=void 0===_ref$position?"right":_ref$position,_ref$resize=_ref.resize,resize=void 0!==_ref$resize&&_ref$resize,_useControlledState2=_slicedToArray((0,src.useControlledState)({defaultName:"defaultItems",defaultValue:defaultActive,handleName:"onActiveChange",name:"active",onChange:onActiveChange,value:active}),2),activePanel=_useControlledState2[0],setActivePanel=_useControlledState2[1],id=(0,src.useId)(),_React$useState2=_slicedToArray(react.useState(null),2),panelNext=_React$useState2[0],setPanelNext=_React$useState2[1],_useControlledState4=_slicedToArray((0,src.useControlledState)({defaultName:"defaultPanelWidth",defaultValue:defaultPanelWidth,handleName:"onPanelWidthChange",name:"panelWidth",onChange:onPanelWidthChange,value:externalPanelWidth}),2),panelWidth=_useControlledState4[0],setPanelWidth=_useControlledState4[1];return(0,jsx_runtime.jsx)("div",{className:classnames_default()("c-slideout c-slideout-shown",className,{"c-slideout-absolute":absolute,"c-slideout-end":"right"===position,"c-slideout-fixed":!absolute,"c-slideout-start sidenav-start":"left"===position}),children:(0,jsx_runtime.jsx)(VerticalBarContext.Provider,{value:{activation,activePanel,id:id+"-verticalbar",onActivePanel:setActivePanel,onPanelWidthChange:setPanelWidth,panelNext,panelWidth,panelWidthMax,panelWidthMin,position,resize,setPanelNext},children})})}Resizer.displayName="Resizer",Panel.displayName="Panel",VerticalBar.displayName="VerticalBar",VerticalBar.Bar=Bar,VerticalBar.Content=Content,VerticalBar.Item=Item,VerticalBar.Panel=Panel}}]);