"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[660],{"./packages/clay-localized-input/stories/LocalizedInput.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>LocalizedInput_stories});__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var src=__webpack_require__("./packages/clay-form/src/index.tsx"),react=__webpack_require__("./node_modules/react/index.js"),clay_core_src=(__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./packages/clay-core/src/index.ts")),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["ariaLabels","helpText","id","label","locales","onSelectedLocaleChange","onTranslationsChange","placeholder","prependContent","resultFormatter","selectedLocale","spritemap","translations"];var LocalizedInput=react.forwardRef((function(_ref,ref){var _ref$ariaLabels=_ref.ariaLabels,ariaLabels=void 0===_ref$ariaLabels?{default:"Default",openLocalizations:"Open Localizations",translated:"Translated",untranslated:"Untranslated"}:_ref$ariaLabels,helpText=_ref.helpText,id=_ref.id,_ref$label=_ref.label,label=void 0===_ref$label?"Check for translations":_ref$label,locales=_ref.locales,_onSelectedLocaleChange=_ref.onSelectedLocaleChange,onTranslationsChange=_ref.onTranslationsChange,_ref$placeholder=_ref.placeholder,placeholder=void 0===_ref$placeholder?"Text to translate...":_ref$placeholder,prependContent=_ref.prependContent,_ref$resultFormatter=_ref.resultFormatter,resultFormatter=void 0===_ref$resultFormatter?function(val){return val}:_ref$resultFormatter,selectedLocale=_ref.selectedLocale,spritemap=_ref.spritemap,translations=_ref.translations,otherProps=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),defaultLanguage=locales[0],languagePickerLocales=(0,react.useMemo)((function(){return locales.map((function(locale){return Object.assign({id:locale.label},locale)}))}),[]),languagePickerTranslations=(0,react.useMemo)((function(){var languagePickerTranslations={};return locales.forEach((function(locale){languagePickerTranslations[locale.label]={total:1,translated:translations[locale.label]?1:0}})),languagePickerTranslations}),[locales,translations]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[label&&(0,jsx_runtime.jsx)("label",{htmlFor:id,children:label}),helpText&&(0,jsx_runtime.jsx)(src.ZP.Text,{children:helpText}),(0,jsx_runtime.jsxs)(src.jX.Group,{children:[prependContent&&(0,jsx_runtime.jsx)(src.jX.GroupItem,{prepend:!0,shrink:!0,children:(0,jsx_runtime.jsx)(src.jX.GroupText,{children:prependContent})}),(0,jsx_runtime.jsx)(src.jX.GroupItem,{append:!!prependContent,children:(0,jsx_runtime.jsx)(src.jX,Object.assign({},otherProps,{id,onChange:function onChange(event){var _Object$assign;onTranslationsChange(Object.assign({},translations,((_Object$assign={})[selectedLocale.label]=event.target.value,_Object$assign)))},placeholder,ref,type:"text",value:translations[selectedLocale.label]||""}))}),(0,jsx_runtime.jsx)(src.jX.GroupItem,{shrink:!0,children:(0,jsx_runtime.jsx)(clay_core_src.uW,{defaultLocaleId:defaultLanguage.id,hideTriggerText:!0,locales:languagePickerLocales,messages:{default:ariaLabels.default,option:"{0} language: {1}.",translated:ariaLabels.translated,translating:"Translating {0}/{1}",trigger:ariaLabels.openLocalizations,untranslated:ariaLabels.untranslated},onSelectedLocaleChange:function onSelectedLocaleChange(localeId){_onSelectedLocaleChange(languagePickerLocales.find((function(_ref2){return _ref2.id===localeId})))},spritemap,translations:languagePickerTranslations})})]}),selectedLocale.symbol!==defaultLanguage.symbol&&(0,jsx_runtime.jsx)(src.ZP.Text,{className:"blockquote",children:resultFormatter(translations[defaultLanguage.label])})]})}));LocalizedInput.displayName="ClayLocalizedInput";const clay_localized_input_src=LocalizedInput;function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}const LocalizedInput_stories={parameters:{storySource:{source:"/**\n * SPDX-FileCopyrightText: Â© 2020 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nimport ClayForm from '@clayui/form';\nimport React, {useState} from 'react';\n\nimport ClayLocalizedInput from '../src';\n\nexport default {\n\tcomponent: ClayLocalizedInput,\n\ttitle: 'Design System/Components/LocalizedInput',\n};\n\nexport const Default = () => {\n\tconst locales = [\n\t\t{\n\t\t\tlabel: 'en-US',\n\t\t\tsymbol: 'en-us',\n\t\t},\n\t\t{\n\t\t\tlabel: 'es-ES',\n\t\t\tsymbol: 'es-es',\n\t\t},\n\t\t{\n\t\t\tlabel: 'fr-FR',\n\t\t\tsymbol: 'fr-fr',\n\t\t},\n\t\t{\n\t\t\tlabel: 'hr-HR',\n\t\t\tsymbol: 'hr-hr',\n\t\t},\n\t];\n\n\tconst [selectedLocale, setSelectedLocale] = useState(locales[0]);\n\tconst [translations, setTranslations] = useState<any>({\n\t\t'en-US': 'Apple',\n\t\t'es-ES': 'Manzana',\n\t});\n\n\tconst [selectedLocaleURL, setSelectedLocaleURL] = useState(locales[0]);\n\tconst [translationsURL, setTranslationsURL] = useState<any>({\n\t\t'en-US': 'Apple',\n\t\t'es-ES': 'Manzana',\n\t});\n\n\tconst [selectedLocaleError, setSelectedLocaleError] = useState(locales[0]);\n\tconst [translationsError, setTranslationsError] = useState<any>({\n\t\t'en-US': 'Apple',\n\t\t'es-ES': 'Manzana',\n\t});\n\n\tconst prepend = '/home/';\n\n\treturn (\n\t\t<div className=\"sheet\">\n\t\t\t<ClayForm.Group>\n\t\t\t\t<ClayLocalizedInput\n\t\t\t\t\tid=\"locale1\"\n\t\t\t\t\tlocales={locales}\n\t\t\t\t\tonSelectedLocaleChange={setSelectedLocale}\n\t\t\t\t\tonTranslationsChange={setTranslations}\n\t\t\t\t\tselectedLocale={selectedLocale}\n\t\t\t\t\ttranslations={translations}\n\t\t\t\t/>\n\t\t\t</ClayForm.Group>\n\n\t\t\t<ClayForm.Group>\n\t\t\t\t<ClayLocalizedInput\n\t\t\t\t\tid=\"locale2\"\n\t\t\t\t\tlabel=\"As a URL\"\n\t\t\t\t\tlocales={locales}\n\t\t\t\t\tonSelectedLocaleChange={setSelectedLocaleURL}\n\t\t\t\t\tonTranslationsChange={setTranslationsURL}\n\t\t\t\t\tprependContent={prepend}\n\t\t\t\t\tresultFormatter={(val) =>\n\t\t\t\t\t\t`https://liferay.com${prepend}${val}`\n\t\t\t\t\t}\n\t\t\t\t\tselectedLocale={selectedLocaleURL}\n\t\t\t\t\ttranslations={translationsURL}\n\t\t\t\t/>\n\t\t\t</ClayForm.Group>\n\n\t\t\t<ClayForm.Group className=\"has-error\">\n\t\t\t\t<ClayLocalizedInput\n\t\t\t\t\tid=\"locale3\"\n\t\t\t\t\tlabel=\"Error State\"\n\t\t\t\t\tlocales={locales}\n\t\t\t\t\tonSelectedLocaleChange={setSelectedLocaleError}\n\t\t\t\t\tonTranslationsChange={setTranslationsError}\n\t\t\t\t\tselectedLocale={selectedLocaleError}\n\t\t\t\t\ttranslations={translationsError}\n\t\t\t\t/>\n\t\t\t\t<ClayForm.FeedbackGroup>\n\t\t\t\t\t<ClayForm.Text>Clay Form Text</ClayForm.Text>\n\t\t\t\t\t<ClayForm.FeedbackItem id=\"input-group-error\">\n\t\t\t\t\t\t<ClayForm.FeedbackIndicator symbol=\"exclamation-full\" />\n\t\t\t\t\t\tThis is a description of the error!\n\t\t\t\t\t</ClayForm.FeedbackItem>\n\t\t\t\t</ClayForm.FeedbackGroup>\n\t\t\t</ClayForm.Group>\n\t\t</div>\n\t);\n};\n",locationsMap:{default:{startLoc:{col:23,line:16},endLoc:{col:1,line:105},startBody:{col:23,line:16},endBody:{col:1,line:105}}}}},component:clay_localized_input_src,title:"Design System/Components/LocalizedInput"};var Default=function Default(){var locales=[{label:"en-US",symbol:"en-us"},{label:"es-ES",symbol:"es-es"},{label:"fr-FR",symbol:"fr-fr"},{label:"hr-HR",symbol:"hr-hr"}],_useState2=_slicedToArray((0,react.useState)(locales[0]),2),selectedLocale=_useState2[0],setSelectedLocale=_useState2[1],_useState4=_slicedToArray((0,react.useState)({"en-US":"Apple","es-ES":"Manzana"}),2),translations=_useState4[0],setTranslations=_useState4[1],_useState6=_slicedToArray((0,react.useState)(locales[0]),2),selectedLocaleURL=_useState6[0],setSelectedLocaleURL=_useState6[1],_useState8=_slicedToArray((0,react.useState)({"en-US":"Apple","es-ES":"Manzana"}),2),translationsURL=_useState8[0],setTranslationsURL=_useState8[1],_useState10=_slicedToArray((0,react.useState)(locales[0]),2),selectedLocaleError=_useState10[0],setSelectedLocaleError=_useState10[1],_useState12=_slicedToArray((0,react.useState)({"en-US":"Apple","es-ES":"Manzana"}),2),translationsError=_useState12[0],setTranslationsError=_useState12[1];return(0,jsx_runtime.jsxs)("div",{className:"sheet",children:[(0,jsx_runtime.jsx)(src.ZP.Group,{children:(0,jsx_runtime.jsx)(clay_localized_input_src,{id:"locale1",locales,onSelectedLocaleChange:setSelectedLocale,onTranslationsChange:setTranslations,selectedLocale,translations})}),(0,jsx_runtime.jsx)(src.ZP.Group,{children:(0,jsx_runtime.jsx)(clay_localized_input_src,{id:"locale2",label:"As a URL",locales,onSelectedLocaleChange:setSelectedLocaleURL,onTranslationsChange:setTranslationsURL,prependContent:"/home/",resultFormatter:function resultFormatter(val){return"https://liferay.com/home/"+val},selectedLocale:selectedLocaleURL,translations:translationsURL})}),(0,jsx_runtime.jsxs)(src.ZP.Group,{className:"has-error",children:[(0,jsx_runtime.jsx)(clay_localized_input_src,{id:"locale3",label:"Error State",locales,onSelectedLocaleChange:setSelectedLocaleError,onTranslationsChange:setTranslationsError,selectedLocale:selectedLocaleError,translations:translationsError}),(0,jsx_runtime.jsxs)(src.ZP.FeedbackGroup,{children:[(0,jsx_runtime.jsx)(src.ZP.Text,{children:"Clay Form Text"}),(0,jsx_runtime.jsxs)(src.ZP.FeedbackItem,{id:"input-group-error",children:[(0,jsx_runtime.jsx)(src.ZP.FeedbackIndicator,{symbol:"exclamation-full"}),"This is a description of the error!"]})]})]})]})};Default.displayName="Default";var __namedExportsOrder=["Default"]}}]);