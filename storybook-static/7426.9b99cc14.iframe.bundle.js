"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7426],{"./packages/clay-autocomplete/src/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F2:()=>Autocomplete,ck:()=>src_Item,ZP:()=>clay_autocomplete_src});__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js");var src=__webpack_require__("./packages/clay-core/src/index.ts"),clay_drop_down_src=__webpack_require__("./packages/clay-drop-down/src/index.tsx"),clay_form_src=__webpack_require__("./packages/clay-form/src/index.tsx"),clay_loading_indicator_src=__webpack_require__("./packages/clay-loading-indicator/src/index.tsx"),clay_shared_src=__webpack_require__("./packages/clay-shared/src/index.tsx"),react=__webpack_require__("./node_modules/react/index.js"),LegacyContext=(0,react.createContext)({});LegacyContext.displayName="ClayAutocompleteLegacyContext";var AutocompleteContext=(0,react.createContext)({});function useAutocompleteState(){return(0,react.useContext)(AutocompleteContext)}var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["children"],_excluded2=["UNSAFE_loadingShrink","active","alignmentByViewport","allowsCustomValue","as","children","containerElementRef","defaultActive","defaultItems","defaultValue","direction","filterKey","items","loadingState","menuTrigger","messages","onActiveChange","onChange","onItemsChange","onLoadMore","value"];function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var Collection=src.ni.FE,useCollection=src.ni.Kx,useVirtual=src.ni.oq,LiveAnnouncer=src.ed.K,List=react.forwardRef((function List(_ref,ref){var children=_ref.children,otherProps=_objectWithoutProperties(_ref,_excluded);return(0,jsx_runtime.jsx)("ul",Object.assign({},otherProps,{className:"list-unstyled",ref,children}))}));function hasItem(items,value,filterKey){return items.find((function(item){return(0,clay_shared_src.getLocatorValue)({item,locator:filterKey})===value}))}var ESCAPE_REGEXP=/[.*+?^${}()|[\]\\]/g,defaultMessages={listCount:"{0} option available.",listCountPlural:"{0} options available.",loading:"Loading...",notFound:"No results found"};function AutocompleteInner(_ref2,ref){var _messages,_containerElementRef$,UNSAFE_loadingShrink=_ref2.UNSAFE_loadingShrink,externalActive=_ref2.active,allowsCustomValue=(_ref2.alignmentByViewport,_ref2.allowsCustomValue),_ref2$as=_ref2.as,As=void 0===_ref2$as?clay_form_src.jX:_ref2$as,children=_ref2.children,containerElementRef=_ref2.containerElementRef,defaultActive=_ref2.defaultActive,defaultItems=_ref2.defaultItems,defaultValue=_ref2.defaultValue,_ref2$direction=_ref2.direction,direction=void 0===_ref2$direction?"bottom":_ref2$direction,filterKey=_ref2.filterKey,externalItems=_ref2.items,loadingState=_ref2.loadingState,_ref2$menuTrigger=_ref2.menuTrigger,menuTrigger=void 0===_ref2$menuTrigger?"input":_ref2$menuTrigger,messages=_ref2.messages,onActiveChange=_ref2.onActiveChange,onChange=_ref2.onChange,onItemsChange=_ref2.onItemsChange,onLoadMore=_ref2.onLoadMore,externalValue=_ref2.value,otherProps=_objectWithoutProperties(_ref2,_excluded2);messages=Object.assign({},defaultMessages,null!==(_messages=messages)&&void 0!==_messages?_messages:{});var _useControlledState2=_slicedToArray((0,clay_shared_src.useControlledState)({defaultName:"defaultItems",defaultValue:defaultItems,handleName:"onItemsChange",name:"items",onChange:onItemsChange,value:externalItems}),3),items=_useControlledState2[0],isItemsUncontrolled=_useControlledState2[2],_useControlledState4=_slicedToArray((0,clay_shared_src.useControlledState)({defaultName:"defaultValue",defaultValue,handleName:"onChange",name:"value",onChange,value:externalValue}),3),_useControlledState4$=_useControlledState4[0],value=void 0===_useControlledState4$?"":_useControlledState4$,setValue=_useControlledState4[1],isUncontrolled=_useControlledState4[2],_useControlledState6=_slicedToArray((0,clay_shared_src.useControlledState)({defaultName:"defaultActive",defaultValue:defaultActive,handleName:"onActiveChange",name:"active",onChange:onActiveChange,value:externalActive}),2),active=_useControlledState6[0],setActive=_useControlledState6[1],inputRef=(0,react.useRef)(null),menuRef=(0,react.useRef)(null),shouldIgnoreOpenMenuOnFocus=(0,react.useRef)(!1),inputElementRef=ref||inputRef,isLoading=Boolean(void 0!==loadingState&&1===loadingState),debouncedLoadingChange=(0,clay_shared_src.useDebounce)(isLoading,500),currentItemSelected=(0,react.useRef)(""),ariaControlsId=(0,clay_shared_src.useId)(),announcerAPI=(0,react.useRef)(null),isFirst=(0,clay_shared_src.useIsFirstRender)(),filterFn=(0,react.useCallback)((function(itemValue){return null!==itemValue.match(new RegExp(value.replace(ESCAPE_REGEXP,"\\$&"),"i"))}),[value]);(0,react.useEffect)((function(){!allowsCustomValue&&!currentItemSelected.current&&value&&items&&(hasItem(items,value,filterKey)&&(currentItemSelected.current=value),!filterKey&&items.length&&"object"==typeof items[0]&&console.warn("<Autocomplete />: the component is trying to validate that the initial value exists in the items, but it doesn't know which key to use for comparison. Define the key in 'filterKey' ('<Autocomplete filterKey=\"value\" />')."))}),[items]),(0,react.useEffect)((function(){if(!isFirst&&!allowsCustomValue&&value&&!1===active&&currentItemSelected.current!==value){if(!isUncontrolled&&items&&hasItem(items,value,filterKey))return void(currentItemSelected.current=value);setValue(currentItemSelected.current)}}),[active]);var filteredItems=(0,react.useMemo)((function(){return debouncedLoadingChange?[]:isItemsUncontrolled?items?null==items?void 0:items.filter((function(option){return filterKey||"object"!=typeof option?filterFn((0,clay_shared_src.getLocatorValue)({item:option,locator:filterKey})||option.toString()):(console.warn("<Autocomplete />: the component is trying to filter the list but it doesn't know which key to use for comparison. Define the key in 'filterKey' ('<Autocomplete filterKey=\"value\" />'). option=",option),!0)})):[]:null!=items?items:[]}),[debouncedLoadingChange,isItemsUncontrolled,items,filterFn]),virtualizer=useVirtual({estimateSize:37,items:filteredItems,parentRef:menuRef}),collection=useCollection({children,filter:isItemsUncontrolled?filterFn:void 0,filterKey:"value",itemContainer:(0,react.useCallback)((function(_ref3){var _ref4,_children$props$textV,children=_ref3.children,keyValue=_ref3.keyValue,itemValue=null!==(_ref4=null!==(_children$props$textV=children.props.textValue)&&void 0!==_children$props$textV?_children$props$textV:children.props.value)&&void 0!==_ref4?_ref4:children.props.children;return react.cloneElement(children,{keyValue,match:value,onClick:function onClick(event){var _inputElementRef$curr;children.props.onClick&&children.props.onClick(event),event.defaultPrevented||(setActive(!1),currentItemSelected.current=itemValue,setValue(itemValue),shouldIgnoreOpenMenuOnFocus.current=!0,null===(_inputElementRef$curr=inputElementRef.current)||void 0===_inputElementRef$curr||_inputElementRef$curr.focus())},roleItem:"option"})}),[value]),items:filteredItems,notFound:(0,jsx_runtime.jsx)(clay_drop_down_src.ZP.Item,{"aria-disabled":"true",className:"disabled",roleItem:"option",children:messages.notFound}),suppressTextValueWarning:!1,virtualizer:items?virtualizer:void 0}),_useState2=_slicedToArray((0,react.useState)(""),2),activeDescendant=_useState2[0],setActiveDescendant=_useState2[1];(0,clay_shared_src.useOverlayPosition)({alignmentByViewport:!0,alignmentPosition:"bottom"===direction?5:7,autoBestAlign:!0,isOpen:active,ref:menuRef,triggerRef:containerElementRef},[active,children]);var navigationProps=(0,clay_shared_src.useNavigation)({activation:"manual",active:activeDescendant,collection,containerRef:menuRef,loop:!0,onNavigate:function onNavigate(item){return setActiveDescendant(item)},orientation:"vertical",visible:active}).navigationProps;(0,react.useEffect)((function(){!active&&activeDescendant&&setActiveDescendant("")}),[active]);var optionCount=collection.getItems().length,lastSize=(0,react.useRef)(optionCount);(0,react.useEffect)((function(){if(announcerAPI.current&&active&&(!activeDescendant||(0,clay_shared_src.isAppleDevice)()||optionCount!==lastSize.current)){var _optionCount=collection.getItems().length;announcerAPI.current.announce((0,clay_shared_src.sub)(1===_optionCount?messages.listCount:messages.listCountPlural,[_optionCount]))}lastSize.current=optionCount}),[active,value]);var onClose=(0,react.useCallback)((function(){return setActive(!1)}),[]),onPress=(0,react.useCallback)((function(){if(menuRef.current&&activeDescendant){var item=document.getElementById(String(activeDescendant));item&&item.click()}}),[activeDescendant]),LoadingGroupItem=UNSAFE_loadingShrink?clay_form_src.jX.GroupItem:clay_form_src.jX.GroupInsetItem;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(LiveAnnouncer,{ref:announcerAPI}),(0,jsx_runtime.jsx)(As,Object.assign({},otherProps,{"aria-activedescendant":active?String(activeDescendant):void 0,"aria-autocomplete":"list","aria-controls":ariaControlsId,"aria-expanded":active,autoComplete:"off",autoCorrect:"off",insetAfter:isLoading,onChange:function onChange(event){var value=event.target.value;value||(currentItemSelected.current=value),null!==items&&setActive(!0),setValue(value),activeDescendant&&setActiveDescendant("")},onFocus:function onFocus(event){if(otherProps.onFocus&&otherProps.onFocus(event),"focus"===menuTrigger&&null!==items){if(shouldIgnoreOpenMenuOnFocus.current)return void(shouldIgnoreOpenMenuOnFocus.current=!1);setActive(!0)}},onKeyDown:function onKeyDown(event){switch(otherProps.onKeyDown&&otherProps.onKeyDown(event),event.key){case clay_shared_src.Keys.Tab:case clay_shared_src.Keys.Esc:setActive(!1);break;case clay_shared_src.Keys.Enter:setActive(!1),active&&activeDescendant&&onPress(),active||event.key!==clay_shared_src.Keys.Esc||setValue("");break;case clay_shared_src.Keys.Home:case clay_shared_src.Keys.End:setActiveDescendant("");break;case clay_shared_src.Keys.Left:case clay_shared_src.Keys.Right:activeDescendant&&setActiveDescendant("");break;case clay_shared_src.Keys.Up:case clay_shared_src.Keys.Down:if(event.preventDefault(),!active&&event.altKey&&event.key===clay_shared_src.Keys.Down&&null!==items)return event.stopPropagation(),void setActive(!0);if(!activeDescendant){var item=event.key===clay_shared_src.Keys.Down?collection.getFirstItem():collection.getLastItem();setActiveDescendant(item.key)}if(!active&&null!==items)return setActive(!0);navigationProps.onKeyDown(event);break;default:navigationProps.onKeyDown(event)}},ref:inputElementRef,role:"combobox",spellCheck:!1,value})),active&&(0,jsx_runtime.jsx)(clay_shared_src.Overlay,{isCloseOnInteractOutside:!0,isKeyboardDismiss:!0,isOpen:!0,menuRef,onClose,portalRef:menuRef,suppress:[menuRef,inputElementRef],triggerRef:inputElementRef,children:(0,jsx_runtime.jsx)("div",{className:"dropdown-menu dropdown-menu-select show",ref:menuRef,role:"presentation",style:{maxWidth:"none",width:(null===(_containerElementRef$=containerElementRef.current)||void 0===_containerElementRef$?void 0:_containerElementRef$.clientWidth)+"px"},children:(0,jsx_runtime.jsx)(AutocompleteContext.Provider,{value:{activeDescendant,onActiveDescendant:setActiveDescendant,onClick:setValue},children:(0,jsx_runtime.jsx)(Collection,{"aria-label":otherProps["aria-label"],"aria-labelledby":otherProps["aria-labelledby"],as:List,collection,id:ariaControlsId,isLoading,onLoadMore,role:"listbox",children:debouncedLoadingChange?(0,jsx_runtime.jsx)(clay_drop_down_src.ZP.Item,{"aria-disabled":"true",className:"disabled",roleItem:"option",children:messages.loading}):children})})})}),isLoading&&(0,jsx_runtime.jsx)(LoadingGroupItem,{after:!UNSAFE_loadingShrink||void 0,"aria-label":messages.loading,"aria-valuemax":100,"aria-valuemin":0,role:"progressbar",shrink:UNSAFE_loadingShrink,children:(0,jsx_runtime.jsx)("span",{className:"inline-item inline-item-middle",children:(0,jsx_runtime.jsx)(clay_loading_indicator_src.Z,{size:"sm"})})})]})}var Autocomplete=react.forwardRef(AutocompleteInner);Autocomplete.displayName="Autocomplete";__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js");var classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),fuzzy=__webpack_require__("./node_modules/fuzzy/lib/fuzzy.js"),fuzzy_default=__webpack_require__.n(fuzzy),Item_excluded=["children","className","disabled","innerRef","keyValue","match","textValue","value"],Item_excluded2=["children","innerRef","match","value"],_excluded3=["children","match"];function Item_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function Item_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var optionsFuzzy={post:"|}",pre:"}|"},NewItem=react.forwardRef((function NewItem(_ref,ref){var _ref2,children=_ref.children,className=_ref.className,disabled=_ref.disabled,innerRef=_ref.innerRef,keyValue=_ref.keyValue,_ref$match=_ref.match,match=void 0===_ref$match?"":_ref$match,textValue=_ref.textValue,value=_ref.value,otherProps=Item_objectWithoutProperties(_ref,Item_excluded),_useAutocompleteState=useAutocompleteState(),activeDescendant=_useAutocompleteState.activeDescendant,onActiveDescendant=_useAutocompleteState.onActiveDescendant,isFocus=(0,(0,clay_shared_src.useInteractionFocus)().isFocusVisible)(),hoverProps=(0,clay_shared_src.useHover)({disabled,onHover:(0,react.useCallback)((function(){return!isFocus&&onActiveDescendant(keyValue)}),[keyValue,isFocus])}),currentValue=null!==(_ref2=null!=textValue?textValue:value)&&void 0!==_ref2?_ref2:String(children),fuzzyMatch=fuzzy_default().match(match,currentValue,optionsFuzzy);return(0,jsx_runtime.jsx)(clay_drop_down_src.ZP.Item,Object.assign({},otherProps,hoverProps,{"aria-selected":activeDescendant===keyValue,className:classnames_default()(className,{focus:activeDescendant===keyValue&&isFocus,hover:activeDescendant===keyValue&&!isFocus}),id:String(keyValue),innerRef,ref,tabIndex:-1,children:match&&fuzzyMatch&&"string"==typeof children?fuzzyMatch.rendered.split("|").map((function(item,index){var Text=item.includes("}")?"span":"strong",value=item.replace(/\}/g,"");return value?(0,jsx_runtime.jsx)(Text,{className:item.includes("}")?void 0:"mark",children:value},index):null})).filter(Boolean):null!=children?children:currentValue}))})),ItemLegacy=react.forwardRef((function ItemLegacy(_ref3,ref){var children=_ref3.children,innerRef=_ref3.innerRef,_ref3$match=_ref3.match,match=void 0===_ref3$match?"":_ref3$match,value=_ref3.value,otherProps=Item_objectWithoutProperties(_ref3,Item_excluded2),currentValue=null!=value?value:String(children),fuzzyMatch=fuzzy_default().match(match,currentValue,optionsFuzzy);return(0,jsx_runtime.jsx)(clay_drop_down_src.ZP.Item,Object.assign({},otherProps,{innerRef,ref,children:match&&fuzzyMatch?fuzzyMatch.rendered.split("|").map((function(item,index){var Text=item.includes("}")?"span":"strong",value=item.replace(/\}/g,"");return value?(0,jsx_runtime.jsx)(Text,{children:value},index):null})).filter(Boolean):currentValue}))})),Item=react.forwardRef((function(_ref4,ref){var children=_ref4.children,_ref4$match=_ref4.match,match=void 0===_ref4$match?"":_ref4$match,otherProps=Item_objectWithoutProperties(_ref4,_excluded3),Component=useAutocompleteState().onActiveDescendant?NewItem:ItemLegacy;return(0,jsx_runtime.jsx)(Component,Object.assign({match},otherProps,{ref,children}))}));Item.displayName="Item";const src_Item=Item;var ClayAutocompleteDropDown=function ClayAutocompleteDropDown(_ref){var _ref$active=_ref.active,active=void 0!==_ref$active&&_ref$active,alignElementRef=_ref.alignElementRef,alignmentByViewport=_ref.alignmentByViewport,children=_ref.children,closeOnClickOutside=_ref.closeOnClickOutside,onActiveChange=_ref.onActiveChange,onSetActive=_ref.onSetActive,containerElementRef=react.useContext(LegacyContext).containerElementRef,menuElementRef=react.useRef(null);alignElementRef||(alignElementRef=containerElementRef);var alignElementWidth=alignElementRef.current&&alignElementRef.current.clientWidth;return(0,jsx_runtime.jsx)(clay_drop_down_src.ZP.Menu,{active,alignElementRef,alignmentByViewport,autoBestAlign:!!alignmentByViewport,className:"autocomplete-dropdown-menu",closeOnClickOutside,onActiveChange:null!=onActiveChange?onActiveChange:onSetActive,ref:menuElementRef,style:{maxWidth:"none",width:alignElementWidth+"px"},triggerRef:alignElementRef,children})};ClayAutocompleteDropDown.displayName="ClayAutocompleteDropDown",ClayAutocompleteDropDown.displayName="ClayAutocompleteDropDown";const DropDown=ClayAutocompleteDropDown;var ClayAutocompleteInput=react.forwardRef((function(props,ref){var loading=react.useContext(LegacyContext).loading;return(0,jsx_runtime.jsx)(clay_form_src.jX,Object.assign({},props,{insetAfter:loading,ref}))}));ClayAutocompleteInput.displayName="ClayAutocompleteInput";const Input=ClayAutocompleteInput;var LoadingIndicator_excluded=["children"],LoadingIndicator_excluded2=["className","component"];function LoadingIndicator_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function LoadingIndicator_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var LoadingIndicatorMarkup=function LoadingIndicatorMarkup(_ref){var children=_ref.children,otherProps=LoadingIndicator_objectWithoutProperties(_ref,LoadingIndicator_excluded);return(0,jsx_runtime.jsx)(clay_form_src.jX.GroupInsetItem,Object.assign({},otherProps,{after:!0,children:(0,jsx_runtime.jsx)("span",{className:"inline-item inline-item-middle",children})}))};LoadingIndicatorMarkup.displayName="LoadingIndicatorMarkup";var ClayAutocompleteLoadingIndicator=function ClayAutocompleteLoadingIndicator(_ref2){var className=_ref2.className,_ref2$component=_ref2.component,Component=void 0===_ref2$component?LoadingIndicatorMarkup:_ref2$component,otherProps=LoadingIndicator_objectWithoutProperties(_ref2,LoadingIndicator_excluded2),onLoadingChange=react.useContext(LegacyContext).onLoadingChange;return react.useEffect((function(){return onLoadingChange(!0),function(){onLoadingChange(!1)}}),[]),(0,jsx_runtime.jsx)(Component,Object.assign({},otherProps,{className,children:(0,jsx_runtime.jsx)(clay_loading_indicator_src.Z,{small:!0})}))};ClayAutocompleteLoadingIndicator.displayName="ClayAutocompleteLoadingIndicator";const LoadingIndicator=ClayAutocompleteLoadingIndicator;var LegacyAutocomplete_excluded=["children"],LegacyAutocomplete_excluded2=["children","className","component"];function LegacyAutocomplete_slicedToArray(r,e){return function LegacyAutocomplete_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function LegacyAutocomplete_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function LegacyAutocomplete_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return LegacyAutocomplete_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?LegacyAutocomplete_arrayLikeToArray(r,a):void 0}}(r,e)||function LegacyAutocomplete_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LegacyAutocomplete_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function LegacyAutocomplete_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function LegacyAutocomplete_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var AutocompleteMarkup=react.forwardRef((function(_ref,ref){var children=_ref.children,otherProps=LegacyAutocomplete_objectWithoutProperties(_ref,LegacyAutocomplete_excluded);return(0,jsx_runtime.jsx)(clay_form_src.jX.Group,Object.assign({},otherProps,{ref,children:(0,jsx_runtime.jsx)(clay_form_src.jX.GroupItem,{children})}))}));AutocompleteMarkup.displayName="ClayAutocompleteMarkup";var ClayAutocomplete=react.forwardRef((function AutocompleteInner(_ref2,_ref3){var children=_ref2.children,className=_ref2.className,_ref2$component=_ref2.component,Component=void 0===_ref2$component?AutocompleteMarkup:_ref2$component,otherProps=LegacyAutocomplete_objectWithoutProperties(_ref2,LegacyAutocomplete_excluded2),containerElementRef=react.useRef(null),_React$useState2=LegacyAutocomplete_slicedToArray(react.useState(!1),2),loading=_React$useState2[0],setLoading=_React$useState2[1],isNewBehavior=function hasItems(children){return children?react.Children.map(children,(function(child){return!(!react.isValidElement(child)||"Item"!==child.type.displayName)})).filter(Boolean):[]}(children).length>=1||children instanceof Function,Container=isNewBehavior?react.Fragment:clay_shared_src.FocusScope;return(0,jsx_runtime.jsx)(Container,{children:(0,jsx_runtime.jsx)(Component,Object.assign({},isNewBehavior?{}:otherProps,{className,ref:function ref(r){r&&(containerElementRef.current=r,"function"==typeof _ref3?_ref3(r):null!==_ref3&&(_ref3.current=r))},children:isNewBehavior?(0,jsx_runtime.jsx)(Autocomplete,Object.assign({containerElementRef},otherProps,{children})):(0,jsx_runtime.jsx)(LegacyContext.Provider,{value:{containerElementRef,loading,onLoadingChange:function onLoadingChange(loading){return setLoading(loading)}},children})}))})}));const clay_autocomplete_src=Object.assign(ClayAutocomplete,{DropDown,Input,Item:src_Item,LoadingIndicator})}}]);